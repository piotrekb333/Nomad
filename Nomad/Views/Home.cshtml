@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@using ContentModels = Umbraco.Web.PublishedContentModels;
@using Umbraco.Web.Models
@{
    int j = 0;

    Layout = "Master.cshtml";
    string carouselId = "galleryImages";
    IEnumerable<IPublishedContent> carousel = Umbraco.AssignedContentItem.GetPropertyValue<IEnumerable<IPublishedContent>>(carouselId);
    //Response.Redirect("/Casinos");

}


@if (carousel != null && carousel.Any())
{
    var logoList = carousel.Where(x => x.IsVisible());
    <div id="imageGallery">
        <div class="MS-content">
            @foreach (var logo in logoList)
            {
                string title = logo.HasValue("slideTitle") ? logo.GetPropertyValue<string>("slideTitle") : "";
                string subtitle = logo.HasValue("slideSubtitle") ? logo.GetPropertyValue<string>("slideSubtitle") : "";
                string imageUrl = logo.HasValue("slideImage") ? logo.GetPropertyValue<IPublishedContent>("slideImage").Url : "/img/carousel.jpg";
                //IEnumerable<RelatedLink> links = logo.GetPropertyValue<IEnumerable<RelatedLink>>("slideLink");
                //RelatedLink link = links != null ? links.FirstOrDefault() : null;
                string link = logo.HasValue("slideLink") ? logo.GetPropertyValue<string>("slideLink") : "";



                @*
                    <div class="item"><img style="width: auto; height: auto;max-width: 250px;max-height: 250px" src="@logo.Url" alt="@logo.Name logo" title="@logo.Name logo" /> </div>
                    <div class="item"><img style="width: auto; height: auto;max-width: 250px;max-height: 250px" src="@logo.Url" alt="@logo.Name logo" title="@logo.Name logo" /> </div>
                    <div class="item"><img style="width: auto; height: auto;max-width: 250px;max-height: 250px" src="@logo.Url" alt="@logo.Name logo" title="@logo.Name logo" /> </div>
                    <div class="item"><img style="width: auto; height: auto;max-width: 250px;max-height: 250px" src="@logo.Url" alt="@logo.Name logo" title="@logo.Name logo" /> </div>
                *@

                <div class="item">
                    <div class="imgTitle">
                        <h2 class="blogTitle">@title</h2>
                        <img src="@(imageUrl)" alt="" />
                    </div>
                    <p>@subtitle</p>
                    <a href="@link">Read More</a>
                </div>




            }
        </div>
        <div class="MS-controls">
            <button class="MS-left"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>
            <button class="MS-right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
        </div>
    </div>
}

@CurrentPage.


@*
    @if (Model.Content.HasValue("sliderImages"))
    {
        var logoList = Model.Content.GetPropertyValue<List<IPublishedContent>>("sliderImages");

        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                @for (int i = 0; i < logoList.Count; i++)
                {
                    string active = i == 0 ? "active" : "";
                    <li data-target="#myCarousel" data-slide-to="@i" class="@active"></li>
                }
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                @foreach (var logo in logoList)
                {
                    string active = j == 0 ? " active " : "";
                    <div class="item @active">
                        <img src="@logo.Url" alt="@logo.Name logo" />
                    </div>
                    j++;
                }
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    }
*@



@*
    @Html.Raw(CurrentPage.homeBody)
*@